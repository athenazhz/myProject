<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.qingniao.core.dao.BrandMapper">
	<resultMap type="com.qingniao.core.pojo.Brand" id="brandMap">
		<id column="brand_id" property="brandId"/>
		<result column="brand_name" property="brandName"/>
		<result column="brand_description" property="brandDescription"/>
		<result column="brand_logo" property="brandLogo"/>
		<result column="brand_url" property="brandUrl"/>
		<result column="brand_status" property="brandStatus"/>
	</resultMap>
	<!-- 编写插入的sql -->
	<insert id="insertBrand" parameterType="Brand" >
		insert into qnsport_brand
		(brand_id,brand_name,brand_description,brand_logo,brand_url,brand_status)
		values(#{brandId},#{brandName},#{brandDescription},#{brandLogo},#{brandUrl},#{brandStatus})
	</insert>
	<sql id="sqlfield">
		brand_id,brand_name,brand_description,brand_logo,brand_url,brand_status
	</sql>
	<!-- 通用的条件查询品牌 -->
	<select id="selectByExample" parameterType="BrandExample" resultMap="brandMap">
		select <include refid="sqlfield"/> from qnsport_brand
		<where>
			<if test="brandStatus != null"> brand_status = #{brandStatus}</if>
			<if test="brandName != null"> and brand_name like "%"#{brandName}"%"</if>
		</where>
		order by brand_id desc
		<if test="startRow != null">
			limit #{startRow},#{pageSize}
		</if>
	</select>
	<select id="selectCountByExample" parameterType="BrandExample" resultType="Integer">
		select count(*) from qnsport_brand
		<where>
			<if test="brandStatus != null"> brand_status = #{brandStatus}</if>
			<if test="brandName != null"> and brand_name like "%"#{brandName}"%"</if>
		</where>
	</select>
	<delete id="batchDelete" parameterType="long[]">
		delete from qnsport_brand where brand_id in
		<foreach collection="array" item="id" open="(" separator="," close=")">
			#{id}
		</foreach>
	</delete>
	<select id="selectById" parameterType="long" resultMap="brandMap">
		select <include refid="sqlfield"/> from qnsport_brand
		where brand_id = #{id}
	</select>
	<update id="editBrand" parameterType="Brand">
		update qnsport_brand
		<set>
			<if test="brandName != null">
				brand_name = #{brandName},
			</if>
			<if test="brandDescription != null">
				brand_description = #{brandDescription},
			</if>
			<if test="brandLogo != null">
				brand_logo = #{brandLogo},
			</if>
			<if test="brandUrl != null">
				brand_url = #{brandUrl},
			</if>
			<if test="brandStatus != null">
				brand_status = #{brandStatus}
			</if>
		</set>
		where brand_id = #{brandId}
	</update>
</mapper>